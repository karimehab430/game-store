"use strict";(self.webpackChunkstore_app=self.webpackChunkstore_app||[]).push([[779],{6367:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}});var n=r(4165),a=r(9439),s=r(5861),i=r(2791),o=r(7689),l=r(1087),c=r(2010),u=r(8844),d=r(7325),p=r(9434),h=r(8020),f=r(9806),m=r(1632),x=r(6850),g=function(e,t){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},g(e,t)};var v=function(){return v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},v.apply(this,arguments)};var b=50,y=50;function j(e){var t=e.className,r=e.counterClockwise,n=e.dashRatio,a=e.pathRadius,s=e.strokeWidth,o=e.style;return(0,i.createElement)("path",{className:t,style:Object.assign({},o,w({pathRadius:a,dashRatio:n,counterClockwise:r})),d:k({pathRadius:a,counterClockwise:r}),strokeWidth:s,fillOpacity:0})}function k(e){var t=e.pathRadius,r=e.counterClockwise?1:0;return"\n      M "+b+","+y+"\n      m 0,-"+t+"\n      a "+t+","+t+" "+r+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+r+" 1 1 0,-"+2*t+"\n    "}function w(e){var t=e.counterClockwise,r=e.dashRatio,n=e.pathRadius,a=2*Math.PI*n,s=(1-r)*a;return{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(t?-s:s)+"px"}}var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function r(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,r=e.minValue,n=e.maxValue;return(Math.min(Math.max(t,r),n)-r)/(n-r)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,r=e.className,n=e.classes,a=e.counterClockwise,s=e.styles,o=e.strokeWidth,l=e.text,c=this.getPathRadius(),u=this.getPathRatio();return(0,i.createElement)("svg",{className:n.root+" "+r,style:s.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,i.createElement)("circle",{className:n.background,style:s.background,cx:b,cy:y,r:50}):null,(0,i.createElement)(j,{className:n.trail,counterClockwise:a,dashRatio:t,pathRadius:c,strokeWidth:o,style:s.trail}),(0,i.createElement)(j,{className:n.path,counterClockwise:a,dashRatio:u*t,pathRadius:c,strokeWidth:o,style:s.path}),l?(0,i.createElement)("text",{className:n.text,style:s.text,x:b,y:y},l):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(i.Component);function C(e){e.children;var t=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r}(e,["children"]);return(0,i.createElement)("div",{"data-test-id":"CircularProgressbarWithChildren"},(0,i.createElement)("div",{style:{position:"relative",width:"100%",height:"100%"}},(0,i.createElement)(N,v({},t)),e.children?(0,i.createElement)("div",{"data-test-id":"CircularProgressbarWithChildren__children",style:{position:"absolute",width:"100%",height:"100%",marginTop:"-100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},e.children):null))}function O(e){var t=e.rotation,r=e.strokeLinecap,n=e.textColor,a=e.textSize,s=e.pathColor,i=e.pathTransition,o=e.pathTransitionDuration,l=e.trailColor,c=e.backgroundColor,u=null==t?void 0:"rotate("+t+"turn)",d=null==t?void 0:"center center";return{root:{},path:P({stroke:s,strokeLinecap:r,transform:u,transformOrigin:d,transition:i,transitionDuration:null==o?void 0:o+"s"}),trail:P({stroke:l,strokeLinecap:r,transform:u,transformOrigin:d}),text:P({fill:n,fontSize:a}),background:P({fill:c})}}function P(e){return Object.keys(e).forEach((function(t){null==e[t]&&delete e[t]})),e}var R=r(9108),E=r(5238),_=(r(5279),r(7848),r(184)),S=function(e){var t=e.title,r=e.children;return(0,_.jsxs)("div",{className:"bg-neutral-800 p-4 rounded-lg",children:[(0,_.jsx)("h3",{className:"text-gray-400 text-sm mb-1",children:t}),(0,_.jsx)("div",{children:r})]})},W="17bbcccaf5c34efb8a9e96f0b767c795",F=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){var r,s,i,o,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=["https://api.rawg.io/api/games/".concat(t,"?key=").concat(W),"https://api.rawg.io/api/games/".concat(t,"/screenshots?key=").concat(W)],e.next=3,Promise.all(r.map((function(e){return fetch(e).then((function(e){if(!e.ok)throw new Error("Failed to fetch");return e.json()}))})));case 3:return s=e.sent,i=(0,a.Z)(s,2),o=i[0],l=i[1],e.abrupt("return",{game:o,screenshots:l.results||[]});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(e){return{exceptional:"#66FF00",recommended:"#5375da",meh:"#FFFF33",skip:"red"}[e]||"#444"};function D(){var e=(0,o.UO)().id,t=(0,p.I0)(),r=(0,p.v9)((function(e){return e.favorites.value})),n=(0,i.useState)(null),s=(0,a.Z)(n,2),g=s[0],v=s[1],b=(0,c.a)({queryKey:["game",e],queryFn:function(){return F(e)}}),y=b.data,j=b.isLoading,k=b.isError;if((0,i.useEffect)((function(){document.documentElement.style.overflow=g?"hidden":"auto"}),[g]),j)return(0,_.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4 bg-[#202020]",children:[(0,_.jsx)(E.Z,{size:"w-16 h-16"}),(0,_.jsx)("p",{className:"text-gray-400",children:"Loading game details\u2026"})]});if(k||!y)return(0,_.jsx)("div",{className:"min-h-screen flex items-center justify-center text-white bg-[#202020]",children:(0,_.jsx)("p",{children:"Error loading game data."})});var w=y.game,N=y.screenshots,P=w&&r.some((function(e){return e.id===w.id})),W=[new d.Eh({prevElSelector:".flicking-arrow-prev"})],D=w.name,q=w.description_raw,z=w.genres,L=w.metacritic,T=w.released,B=w.platforms,I=w.developers,Q=w.publishers,V=w.website,H=w.esrb_rating,M=w.tags,A=w.ratings;return(0,_.jsxs)("div",{className:"bg-[#202020] text-[#f4f4f4]",children:[(0,_.jsxs)("section",{className:"relative pt-24 pb-10",children:[(0,_.jsxs)(u.Co,{circular:!0,align:"center",plugins:W,children:[N.map((function(e){return(0,_.jsx)("img",{src:e.image,alt:D,onClick:function(){return v(e)},className:"lg:w-[1024px] lg:h-[576px] w-[360px] h-[200px] cursor-pointer mx-2 rounded-lg"},e.id)})),(0,_.jsxs)(u.JF,{children:[(0,_.jsx)("span",{className:"flicking-arrow-prev is-thin"}),(0,_.jsx)("span",{className:"flicking-arrow-next is-thin"})]})]}),(0,_.jsxs)("div",{className:"max-w-6xl mx-auto mt-8 px-5",children:[(0,_.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,_.jsx)("h1",{className:"text-4xl lg:text-5xl font-bold tracking-tight",children:D}),(0,_.jsx)("button",{"aria-label":"Toggle Favorite",onClick:function(){return t(P?(0,h.Od)(w):(0,h.IH)(w))},className:"p-3 rounded-full transition hover:scale-110 ".concat(P?"bg-red-600":"bg-neutral-700"),children:(0,_.jsx)(f.G,{icon:P?m.m6i:x.m6i})})]}),(0,_.jsxs)("div",{className:"flex flex-wrap gap-4 items-center mt-4",children:[L&&(0,_.jsx)("span",{className:"bg-[#00ce7a] text-black px-3 py-1 rounded-md font-bold",children:L}),(0,_.jsx)("span",{className:"text-gray-400",children:T}),H&&(0,_.jsx)("span",{className:"text-gray-400",children:H.name})]})]})]}),(0,_.jsxs)("section",{className:"max-w-6xl mx-auto px-5 grid gap-10",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:"About"}),(0,_.jsx)("p",{className:"text-lg leading-relaxed text-gray-300",children:q})]}),(0,_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,_.jsx)(S,{title:"Genres",children:null===z||void 0===z?void 0:z.map((function(e){return(0,_.jsx)(l.rU,{to:"/".concat(e.slug),className:"underline mr-2",children:e.name},e.id)}))}),(0,_.jsx)(S,{title:"Platforms",children:null===B||void 0===B?void 0:B.map((function(e){return e.platform.name})).join(" | ")}),(0,_.jsx)(S,{title:"Developers",children:null===I||void 0===I?void 0:I.map((function(e){return e.name})).join(", ")}),(0,_.jsx)(S,{title:"Publishers",children:null===Q||void 0===Q?void 0:Q.map((function(e){return e.name})).join(", ")}),(0,_.jsx)(S,{title:"Website",children:(0,_.jsx)("a",{href:V,target:"_blank",rel:"noreferrer",className:"underline",children:"Official Website"})})]}),(0,_.jsx)("div",{className:"flex flex-wrap gap-2",children:null===M||void 0===M?void 0:M.map((function(e){return(0,_.jsx)("span",{className:"bg-neutral-700 px-3 py-1 rounded-full text-sm",children:e.name},e.id)}))}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Ratings"}),(0,_.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-6",children:null===A||void 0===A?void 0:A.map((function(e){return(0,_.jsxs)(C,{value:e.percent,styles:O({pathColor:Z(e.title)}),children:[(0,_.jsxs)("p",{className:"text-2xl font-bold",children:[e.percent,"%"]}),(0,_.jsx)("p",{className:"text-xs uppercase tracking-wide opacity-70",children:e.title})]},e.id)}))})]})]}),g&&(0,_.jsxs)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:[(0,_.jsx)("button",{onClick:function(){return v(null)},className:"absolute top-5 right-5",children:(0,_.jsx)(R.oHP,{size:28})}),(0,_.jsx)("img",{src:g.image,alt:"screenshot",className:"max-h-[90vh] rounded-xl"})]})]})}},2010:function(e,t,r){r.d(t,{a:function(){return h}});var n=r(9595),a=r(9439),s=r(2791),i=r(7211),o=r(5391),l=r(3713),c=r(5750),u=r(6782),d=r(7571),p=r(1699);function h(e,t){return function(e,t,r){var n,h,f,m,x=(0,d.S)(),g=(0,c._)(),v=(0,l.NL)(r),b=v.defaultQueryOptions(e);null===(n=v.getDefaultOptions().queries)||void 0===n||null===(h=n._experimental_beforeQuery)||void 0===h||h.call(n,b);var y=v.getQueryCache().get(b.queryHash);b._optimisticResults=x?"isRestoring":"optimistic",(0,p.A8)(b),(0,u.pf)(b,g,y),(0,u.JN)(g);var j=!v.getQueryCache().get(b.queryHash),k=s.useState((function(){return new t(v,b)})),w=(0,a.Z)(k,1)[0],N=w.getOptimisticResult(b),C=!x&&!1!==e.subscribed;if(s.useSyncExternalStore(s.useCallback((function(e){var t=C?w.subscribe(i.Vr.batchCalls(e)):o.ZT;return w.updateResult(),t}),[w,C]),(function(){return w.getCurrentResult()}),(function(){return w.getCurrentResult()})),s.useEffect((function(){w.setOptions(b)}),[b,w]),(0,p.SB)(b,N))throw(0,p.j8)(b,w,g);if((0,u.KJ)({result:N,errorResetBoundary:g,throwOnError:b.throwOnError,query:y,suspense:b.suspense}))throw N.error;if(null===(f=v.getDefaultOptions().queries)||void 0===f||null===(m=f._experimental_afterQuery)||void 0===m||m.call(f,b,N),b.experimental_prefetchInRender&&!o.sk&&(0,p.Z$)(N,x)){var O=j?(0,p.j8)(b,w,g):null===y||void 0===y?void 0:y.promise;null===O||void 0===O||O.catch(o.ZT).finally((function(){w.updateResult()}))}return b.notifyOnChangeProps?N:w.trackResult(N)}(e,n.z,t)}}}]);
//# sourceMappingURL=779.6efed3ae.chunk.js.map