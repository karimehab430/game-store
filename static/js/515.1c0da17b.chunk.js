"use strict";(self.webpackChunkstore_app=self.webpackChunkstore_app||[]).push([[515],{9595:function(t,e,i){i.d(e,{z:function(){return z}});var n=i(1413);var s,r,a,o,u,h,l,c,d,Z,f,v,p,b,w,y,k,R,g,m,C,O,S,W,M=i(5671),E=i(3144),U=i(7326),T=i(136),N=i(7277),P=i(101),x=i(2346),F=i(3889),I=i(6033),L=i(3092),_=i(1623),D=i(7211),Q=i(8761),j=i(8974),A=i(1615),K=i(5391),q=i(9755),z=(s=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,u=new WeakMap,h=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,Z=new WeakMap,f=new WeakMap,v=new WeakMap,p=new WeakMap,b=new WeakMap,w=new WeakMap,y=new WeakSet,k=new WeakSet,R=new WeakSet,g=new WeakSet,m=new WeakSet,C=new WeakSet,O=new WeakSet,S=new WeakSet,W=new WeakSet,function(t){(0,T.Z)(i,t);var e=(0,N.Z)(i);function i(t,n){var E;return(0,M.Z)(this,i),E=e.call(this),(0,P.Z)((0,U.Z)(E),W),(0,P.Z)((0,U.Z)(E),S),(0,P.Z)((0,U.Z)(E),O),(0,P.Z)((0,U.Z)(E),C),(0,P.Z)((0,U.Z)(E),m),(0,P.Z)((0,U.Z)(E),g),(0,P.Z)((0,U.Z)(E),R),(0,P.Z)((0,U.Z)(E),k),(0,P.Z)((0,U.Z)(E),y),(0,x.Z)((0,U.Z)(E),s,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),r,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),a,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),o,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),u,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),h,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),l,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),c,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),d,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),Z,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),f,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),v,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),p,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),b,{writable:!0,value:void 0}),(0,x.Z)((0,U.Z)(E),w,{writable:!0,value:new Set}),E.options=n,(0,L.Z)((0,U.Z)(E),s,t),(0,L.Z)((0,U.Z)(E),c,null),(0,L.Z)((0,U.Z)(E),l,(0,A.O)()),E.bindMethods(),E.setOptions(n),E}return(0,E.Z)(i,[{key:"bindMethods",value:function(){this.refetch=this.refetch.bind(this)}},{key:"onSubscribe",value:function(){1===this.listeners.size&&((0,I.Z)(this,r).addObserver(this),et((0,I.Z)(this,r),this.options)?(0,F.Z)(this,y,B).call(this):this.updateResult(),(0,F.Z)(this,m,$).call(this))}},{key:"onUnsubscribe",value:function(){this.hasListeners()||this.destroy()}},{key:"shouldFetchOnReconnect",value:function(){return it((0,I.Z)(this,r),this.options,this.options.refetchOnReconnect)}},{key:"shouldFetchOnWindowFocus",value:function(){return it((0,I.Z)(this,r),this.options,this.options.refetchOnWindowFocus)}},{key:"destroy",value:function(){this.listeners=new Set,(0,F.Z)(this,C,G).call(this),(0,F.Z)(this,O,X).call(this),(0,I.Z)(this,r).removeObserver(this)}},{key:"setOptions",value:function(t){var e=this.options,i=(0,I.Z)(this,r);if(this.options=(0,I.Z)(this,s).defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof(0,K.Nc)(this.options.enabled,(0,I.Z)(this,r)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,F.Z)(this,S,Y).call(this),(0,I.Z)(this,r).setOptions(this.options),e._defaulted&&!(0,K.VS)(this.options,e)&&(0,I.Z)(this,s).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,I.Z)(this,r),observer:this});var n=this.hasListeners();n&&nt((0,I.Z)(this,r),i,this.options,e)&&(0,F.Z)(this,y,B).call(this),this.updateResult(),!n||(0,I.Z)(this,r)===i&&(0,K.Nc)(this.options.enabled,(0,I.Z)(this,r))===(0,K.Nc)(e.enabled,(0,I.Z)(this,r))&&(0,K.KC)(this.options.staleTime,(0,I.Z)(this,r))===(0,K.KC)(e.staleTime,(0,I.Z)(this,r))||(0,F.Z)(this,k,V).call(this);var a=(0,F.Z)(this,R,H).call(this);!n||(0,I.Z)(this,r)===i&&(0,K.Nc)(this.options.enabled,(0,I.Z)(this,r))===(0,K.Nc)(e.enabled,(0,I.Z)(this,r))&&a===(0,I.Z)(this,b)||(0,F.Z)(this,g,J).call(this,a)}},{key:"getOptimisticResult",value:function(t){var e=(0,I.Z)(this,s).getQueryCache().build((0,I.Z)(this,s),t),i=this.createResult(e,t);return function(t,e){if(!(0,K.VS)(t.getCurrentResult(),e))return!0;return!1}(this,i)&&((0,L.Z)(this,o,i),(0,L.Z)(this,h,this.options),(0,L.Z)(this,u,(0,I.Z)(this,r).state)),i}},{key:"getCurrentResult",value:function(){return(0,I.Z)(this,o)}},{key:"trackResult",value:function(t,e){var i=this;return new Proxy(t,{get:function(t,n){return i.trackProp(n),null===e||void 0===e||e(n),"promise"===n&&(i.trackProp("data"),i.options.experimental_prefetchInRender||"pending"!==(0,I.Z)(i,l).status||(0,I.Z)(i,l).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(t,n)}})}},{key:"trackProp",value:function(t){(0,I.Z)(this,w).add(t)}},{key:"getCurrentQuery",value:function(){return(0,I.Z)(this,r)}},{key:"refetch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},(function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(t),t));return this.fetch((0,n.Z)({},e))}},{key:"fetchOptimistic",value:function(t){var e=this,i=(0,I.Z)(this,s).defaultQueryOptions(t),n=(0,I.Z)(this,s).getQueryCache().build((0,I.Z)(this,s),i);return n.fetch().then((function(){return e.createResult(n,i)}))}},{key:"fetch",value:function(t){var e,i=this;return(0,F.Z)(this,y,B).call(this,(0,n.Z)((0,n.Z)({},t),{},{cancelRefetch:null===(e=t.cancelRefetch)||void 0===e||e})).then((function(){return i.updateResult(),(0,I.Z)(i,o)}))}},{key:"createResult",value:function(t,e){var i,s=this,v=(0,I.Z)(this,r),p=this.options,b=(0,I.Z)(this,o),w=(0,I.Z)(this,u),y=(0,I.Z)(this,h),k=t!==v?t.state:(0,I.Z)(this,a),R=t.state,g=(0,n.Z)({},R),m=!1;if(e._optimisticResults){var C=this.hasListeners(),O=!C&&et(t,e),S=C&&nt(t,v,e,p);(O||S)&&(g=(0,n.Z)((0,n.Z)({},g),(0,Q.z)(R.data,t.options))),"isRestoring"===e._optimisticResults&&(g.fetchStatus="idle")}var W=g,M=W.error,E=W.errorUpdatedAt,U=W.status;i=g.data;var T=!1;if(void 0!==e.placeholderData&&void 0===i&&"pending"===U){var N,P;if(null!==b&&void 0!==b&&b.isPlaceholderData&&e.placeholderData===(null===y||void 0===y?void 0:y.placeholderData))N=b.data,T=!0;else N="function"===typeof e.placeholderData?e.placeholderData(null===(P=(0,I.Z)(this,f))||void 0===P?void 0:P.state.data,(0,I.Z)(this,f)):e.placeholderData;void 0!==N&&(U="success",i=(0,K.oE)(null===b||void 0===b?void 0:b.data,N,e),m=!0)}if(e.select&&void 0!==i&&!T)if(b&&i===(null===w||void 0===w?void 0:w.data)&&e.select===(0,I.Z)(this,d))i=(0,I.Z)(this,Z);else try{(0,L.Z)(this,d,e.select),i=e.select(i),i=(0,K.oE)(null===b||void 0===b?void 0:b.data,i,e),(0,L.Z)(this,Z,i),(0,L.Z)(this,c,null)}catch(H){(0,L.Z)(this,c,H)}(0,I.Z)(this,c)&&(M=(0,I.Z)(this,c),i=(0,I.Z)(this,Z),E=Date.now(),U="error");var x="fetching"===g.fetchStatus,F="pending"===U,_="error"===U,D=F&&x,j=void 0!==i,q={status:U,fetchStatus:g.fetchStatus,isPending:F,isSuccess:"success"===U,isError:_,isInitialLoading:D,isLoading:D,data:i,dataUpdatedAt:g.dataUpdatedAt,error:M,errorUpdatedAt:E,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>k.dataUpdateCount||g.errorUpdateCount>k.errorUpdateCount,isFetching:x,isRefetching:x&&!F,isLoadingError:_&&!j,isPaused:"paused"===g.fetchStatus,isPlaceholderData:m,isRefetchError:_&&j,isStale:st(t,e),refetch:this.refetch,promise:(0,I.Z)(this,l),isEnabled:!1!==(0,K.Nc)(e.enabled,t)};if(this.options.experimental_prefetchInRender){var z=function(t){"error"===q.status?t.reject(q.error):void 0!==q.data&&t.resolve(q.data)},B=function(){var t=(0,L.Z)(s,l,q.promise=(0,A.O)());z(t)},V=(0,I.Z)(this,l);switch(V.status){case"pending":t.queryHash===v.queryHash&&z(V);break;case"fulfilled":"error"!==q.status&&q.data===V.value||B();break;case"rejected":"error"===q.status&&q.error===V.reason||B()}}return q}},{key:"updateResult",value:function(){var t=this,e=(0,I.Z)(this,o),i=this.createResult((0,I.Z)(this,r),this.options);if((0,L.Z)(this,u,(0,I.Z)(this,r).state),(0,L.Z)(this,h,this.options),void 0!==(0,I.Z)(this,u).data&&(0,L.Z)(this,f,(0,I.Z)(this,r)),!(0,K.VS)(i,e)){(0,L.Z)(this,o,i);(0,F.Z)(this,W,tt).call(this,{listeners:function(){if(!e)return!0;var i=t.options.notifyOnChangeProps,n="function"===typeof i?i():i;if("all"===n||!n&&!(0,I.Z)(t,w).size)return!0;var s=new Set(null!==n&&void 0!==n?n:(0,I.Z)(t,w));return t.options.throwOnError&&s.add("error"),Object.keys((0,I.Z)(t,o)).some((function(i){var n=i;return(0,I.Z)(t,o)[n]!==e[n]&&s.has(n)}))}()})}}},{key:"onQueryUpdate",value:function(){this.updateResult(),this.hasListeners()&&(0,F.Z)(this,m,$).call(this)}}]),i}(j.l));function B(t){(0,F.Z)(this,S,Y).call(this);var e=(0,I.Z)(this,r).fetch(this.options,t);return null!==t&&void 0!==t&&t.throwOnError||(e=e.catch(K.ZT)),e}function V(){var t=this;(0,F.Z)(this,C,G).call(this);var e=(0,K.KC)(this.options.staleTime,(0,I.Z)(this,r));if(!K.sk&&!(0,I.Z)(this,o).isStale&&(0,K.PN)(e)){var i=(0,K.Kp)((0,I.Z)(this,o).dataUpdatedAt,e)+1;(0,L.Z)(this,v,q.mr.setTimeout((function(){(0,I.Z)(t,o).isStale||t.updateResult()}),i))}}function H(){var t;return null!==(t="function"===typeof this.options.refetchInterval?this.options.refetchInterval((0,I.Z)(this,r)):this.options.refetchInterval)&&void 0!==t&&t}function J(t){var e=this;(0,F.Z)(this,O,X).call(this),(0,L.Z)(this,b,t),!K.sk&&!1!==(0,K.Nc)(this.options.enabled,(0,I.Z)(this,r))&&(0,K.PN)((0,I.Z)(this,b))&&0!==(0,I.Z)(this,b)&&(0,L.Z)(this,p,q.mr.setInterval((function(){(e.options.refetchIntervalInBackground||_.j.isFocused())&&(0,F.Z)(e,y,B).call(e)}),(0,I.Z)(this,b)))}function $(){(0,F.Z)(this,k,V).call(this),(0,F.Z)(this,g,J).call(this,(0,F.Z)(this,R,H).call(this))}function G(){(0,I.Z)(this,v)&&(q.mr.clearTimeout((0,I.Z)(this,v)),(0,L.Z)(this,v,void 0))}function X(){(0,I.Z)(this,p)&&(q.mr.clearInterval((0,I.Z)(this,p)),(0,L.Z)(this,p,void 0))}function Y(){var t=(0,I.Z)(this,s).getQueryCache().build((0,I.Z)(this,s),this.options);if(t!==(0,I.Z)(this,r)){var e=(0,I.Z)(this,r);(0,L.Z)(this,r,t),(0,L.Z)(this,a,t.state),this.hasListeners()&&(null===e||void 0===e||e.removeObserver(this),t.addObserver(this))}}function tt(t){var e=this;D.Vr.batch((function(){t.listeners&&e.listeners.forEach((function(t){t((0,I.Z)(e,o))})),(0,I.Z)(e,s).getQueryCache().notify({query:(0,I.Z)(e,r),type:"observerResultsUpdated"})}))}function et(t,e){return function(t,e){return!1!==(0,K.Nc)(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&it(t,e,e.refetchOnMount)}function it(t,e,i){if(!1!==(0,K.Nc)(e.enabled,t)&&"static"!==(0,K.KC)(e.staleTime,t)){var n="function"===typeof i?i(t):i;return"always"===n||!1!==n&&st(t,e)}return!1}function nt(t,e,i,n){return(t!==e||!1===(0,K.Nc)(n.enabled,t))&&(!i.suspense||"error"!==t.state.status)&&st(t,i)}function st(t,e){return!1!==(0,K.Nc)(e.enabled,t)&&t.isStaleByTime((0,K.KC)(e.staleTime,t))}},7571:function(t,e,i){i.d(e,{S:function(){return r}});var n=i(2791),s=n.createContext(!1),r=function(){return n.useContext(s)};s.Provider},5750:function(t,e,i){i.d(e,{_:function(){return a}});var n=i(2791);i(184);function s(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var r=n.createContext(s()),a=function(){return n.useContext(r)}},6782:function(t,e,i){i.d(e,{JN:function(){return a},KJ:function(){return o},pf:function(){return r}});var n=i(2791),s=i(5391),r=function(t,e,i){var n=null!==i&&void 0!==i&&i.state.error&&"function"===typeof t.throwOnError?(0,s.L3)(t.throwOnError,[i.state.error,i]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},a=function(t){n.useEffect((function(){t.clearReset()}),[t])},o=function(t){var e=t.result,i=t.errorResetBoundary,n=t.throwOnError,r=t.query,a=t.suspense;return e.isError&&!i.isReset()&&!e.isFetching&&r&&(a&&void 0===e.data||(0,s.L3)(n,[e.error,r]))}},1699:function(t,e,i){i.d(e,{A8:function(){return n},SB:function(){return r},Z$:function(){return s},j8:function(){return a}});var n=function(t){if(t.suspense){var e=1e3,i=function(t){return"static"===t?t:Math.max(null!==t&&void 0!==t?t:e,e)},n=t.staleTime;t.staleTime="function"===typeof n?function(){return i(n.apply(void 0,arguments))}:i(n),"number"===typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,e))}},s=function(t,e){return t.isLoading&&t.isFetching&&!e},r=function(t,e){return(null===t||void 0===t?void 0:t.suspense)&&e.isPending},a=function(t,e,i){return e.fetchOptimistic(t).catch((function(){i.clearReset()}))}}}]);
//# sourceMappingURL=515.1c0da17b.chunk.js.map